import{r as u,R as fe}from"./react.b63b2fd9.js";import{c as ge}from"./react-dom.292950be.js";import{N as xe,L as Q,B as ye}from"./react-router-dom.713355e3.js";import{j as o,F as be,c as e,u as _,a as R,P as we}from"./react-redux.a0b70365.js";import{H as Ne,a as ve,b as ke,c as Fe,R as Ee,d as Pe,F as Ce,e as Ie,f as Le,B as je,M as Ae,g as Qe,h as De,i as Se,j as Be,k as Re,l as Me,m as Ze}from"./react-icons.35c9551b.js";import{c as $e,a as _e,f as He,b as qe}from"./@reduxjs.acb39b55.js";import"./firebase.d5e81eb4.js";import{i as Ge,g as Oe,P as Te,G as ze,s as Ye,R as K,_ as Z,b as V,d as J,p as ee,a as Xe,c as We,e as Ue}from"./@firebase.e47d84da.js";import{u as P}from"./react-firebase-hooks.09b3862d.js";import"./hoist-non-react-statics.debd85b3.js";import{a as C,d as H,e as Ke,f as L}from"./react-router.64ce88fe.js";import"./scheduler.be149d5c.js";import"./@remix-run.2f696efc.js";import"./use-sync-external-store.05dcb437.js";import"./immer.55049fc9.js";import"./redux.596c8223.js";import"./@babel.2ed91b85.js";import"./redux-thunk.8cfd44ab.js";import"./reselect.bd965e1c.js";import"./idb.13e98345.js";import"./react-is.c5d0308a.js";const Ve=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}};Ve();var G="/assets/logo.e73bde7a.png",te="/assets/poster.97a116cc.png",O="/assets/profile.de0a28e5.png";const z=[{title:"R&B",value:"37i9dQZF1EQoqCH7BwIYb7"},{title:"Hip-Hop",value:"37i9dQZF1EQnqst5TRi17F"},{title:"Electronic",value:"37i9dQZF1EIeZKM1YFAtwx"},{title:"Pop",value:"37i9dQZF1EQncLwOalG3K7"},{title:"Alternative",value:"37i9dQZF1DX9GRpeH4CL0S"},{title:"Rock",value:"37i9dQZF1EQpj7X7UK8OOF"},{title:"Latin",value:"37i9dQZF1DXbLMw3ry7d7k"},{title:"Film",value:"37i9dQZF1DXb69UWhjrXsW"},{title:"Country",value:"37i9dQZF1DX1lVhptIYRda"},{title:"Worldwide",value:"37i9dQZEVXbMDoHDwVN2tF"},{title:"Reggae",value:"37i9dQZF1EQpjs4F0vUZ1x"},{title:"House",value:"37i9dQZF1DXd5DCuoVuFY3"},{title:"K-Pop",value:"37i9dQZF1DX9tPFwDMOaN1"}],Je=[{name:"Home",to:"/",icon:Ne},{name:"Discover",to:"/discover",icon:ve},{name:"Search",to:"search",icon:ke},{name:"Liked",to:"/liked",icon:Fe}],Y=()=>e("div",{className:"mt-10",children:Je.map(t=>o(xe,{to:t.to,className:"flex flex-row justify-start items-center my-8 text-sm font-medium text-gray-400 hover:text-cyan-400",onClick:()=>handleClick&&handleClick(),children:[e(t.icon,{className:"w-6 h-6 mr-2"}),t.name]},t.name))}),et=()=>{const[t,r]=u.exports.useState(!1);return o(be,{children:[o("div",{className:"md:flex hidden flex-col w-[240px] py-10 px-4 bg-[#191624]",children:[e("img",{src:G,alt:"logo",className:"w-full h-20 object-contain"}),e(Y,{})]}),e("div",{className:"absolute md:hidden block top-6 right-3",children:t?e(Ee,{className:"w-6 h-6 text-white mr-2",onClick:()=>r(!1)}):e(Pe,{className:"w-6 h-6 text-white mr-2",onClick:()=>r(!0)})}),o("div",{className:`absolute top-0 h-screen w-2/3 bg-gradient-to-tl from-white/10 to-[#483d8b] backdrop-blur-lg z-10 p-6 md:hidden smooth-transition ${t?"left-0":"-left-full"}`,children:[e("img",{src:G,alt:"logo",className:"w-full h-20 object-contain"}),e(Y,{handleClick:()=>r(!1)})]})]})},re=()=>{const t=C(),[r,s]=u.exports.useState("");return o("form",{onSubmit:a=>{a.preventDefault(),t(`/search/result/${r}`)},autoComplete:"off",className:"p-2 text-gray-400 focus-within:text-gray-600",children:[e("label",{htmlFor:"search-field",className:"sr-only",children:"Search all songs"}),o("div",{className:"flex flex-row justify-start items-center",children:[e(Ce,{className:"w-5 h-5 ml-4"}),e("input",{name:"search-field",autoComplete:"off",id:"search-field",placeholder:"Search",type:"search",value:r,onChange:a=>s(a.target.value),className:"flex-1 bg-transparent border-none outline-none placeholder-gray-500 text-base text-white p-4"})]})]})},se=({isPlaying:t,activeSong:r,song:s,handlePause:i,handlePlay:a})=>t&&(r==null?void 0:r.track.name)===s.track.name?e(Ie,{size:35,className:"text-gray-300",onClick:i}):e(Le,{size:35,className:"text-gray-300",onClick:a}),tt={currentSongs:[],currentIndex:0,isActive:!1,isPlaying:!1,activeSong:{},genreListId:""},ae=$e({name:"player",initialState:tt,reducers:{setActiveSong:(t,r)=>{var s,i,a,l,d,n,c;t.activeSong=r.payload.song,(a=(i=(s=r.payload)==null?void 0:s.data)==null?void 0:i.tracks)!=null&&a.hits?t.currentSongs=r.payload.data.tracks.hits:(d=(l=r.payload)==null?void 0:l.data)!=null&&d.properties?t.currentSongs=(c=(n=r.payload)==null?void 0:n.data)==null?void 0:c.tracks:t.currentSongs=r.payload.data,t.currentIndex=r.payload.i,t.isActive=!0},nextSong:(t,r)=>{var s,i;(s=t.currentSongs[r.payload])!=null&&s.track?t.activeSong=(i=t.currentSongs[r.payload])==null?void 0:i.track:t.activeSong=t.currentSongs[r.payload],t.currentIndex=r.payload,t.isActive=!0},prevSong:(t,r)=>{var s,i;(s=t.currentSongs[r.payload])!=null&&s.track?t.activeSong=(i=t.currentSongs[r.payload])==null?void 0:i.track:t.activeSong=t.currentSongs[r.payload],t.currentIndex=r.payload,t.isActive=!0},playPause:(t,r)=>{t.isPlaying=r.payload},selectGenreListId:(t,r)=>{t.genreListId=r.payload}}}),{setActiveSong:le,nextSong:X,prevSong:q,playPause:A,selectGenreListId:rt}=ae.actions;var st=ae.reducer;const ie=({song:t,isPlaying:r,activeSong:s,i,data:a})=>{var c,m;const l=_(),d=()=>{l(A(!1))},n=()=>{l(le({song:t,data:a,i})),l(A(!0))};return o("div",{className:"flex flex-col w-[250px] p-4 bg-white/5 bg-opacity-80 backdrop-blur-sm animate-slideup rounded-lg curser-pointer",children:[o("div",{className:"relative w-full h-56 group",children:[e("div",{className:`absolute inset-0 justify-center items-center bg-black bg-opacity-50 group-hover:flex 
      ${(s==null?void 0:s.track)===t.track?"flex bg-black bg-opacity-70":"hidden"}
      `,children:e(se,{isPlaying:r,activeSong:s,song:t,handlePause:d,handlePlay:n})}),e("img",{alt:"song_img",src:t.track.album.images[0].url})]}),o("div",{className:"mt-4 flex flex-col",children:[e("p",{className:"font-semibold text-lg text-white truncate",children:e(Q,{to:`/songs/${t==null?void 0:t.track.id}`,children:t.track.name})}),e("p",{className:"text-sm truncate text-gray-300 mt-1",children:e(Q,{to:t.track.artists[0].name?`/artists/${(c=t==null?void 0:t.track.artists[0])==null?void 0:c.id}`:"/top-artists",children:(m=t.track.artists[0])==null?void 0:m.name})})]})]})},oe=({playlist:t})=>(console.log(t),o("div",{className:"flex flex-col w-[250px] p-4 bg-white/5 bg-opacity-80 backdrop-blur-sm animate-slideup rounded-lg curser-pointer",children:[o("div",{className:"relative w-full h-56 group",children:[e("div",{className:"absolute inset-0 justify-center items-center bg-black bg-opacity-50 group-hover:flex hidden"}),e("img",{alt:"playlist_img",src:t.images[0].url})]}),o("div",{className:"mt-4 flex flex-col",children:[e("p",{className:"font-semibold text-lg text-white truncate",children:e(Q,{to:`/playlist/${t.uri.replace("spotify:playlist:","")}`,children:t.name})}),e("p",{className:"text-sm truncate text-gray-300 mt-1",children:"Chord Clout"})]})]})),M=_e({reducerPath:"spotify23API",baseQuery:He({baseUrl:"https://spotify23.p.rapidapi.com",prepareHeaders:t=>(t.set("X-RapidAPI-Key","3e495d322dmsh71f9e322caea807p107f44jsnf3993f84648f"),t)}),endpoints:t=>({getTodaysHits:t.query({query:()=>"/playlist_tracks/?id=37i9dQZF1DXcBWIGoYBM5M&offset=0&limit=100"}),getSongsBySearch:t.query({query:r=>`/search/?q=${r}&type=multi&limit=4`}),getSongsByID:t.query({query:r=>`/tracks/?id=${r}`}),getSongLyricsByID:t.query({query:r=>`/track_lyrics/?id=${r}`}),getPlaylistTracksByID:t.query({query:r=>`/playlist_tracks/?id=${r}`}),getPlaylistByID:t.query({query:r=>`/playlist/?id=${r}`}),getArtistByID:t.query({query:r=>`/artist_overview/?id=${r}`})})}),{useGetTodaysHitsQuery:er,useGetSongsBySearchQuery:at,useGetSongsByIDQuery:ne,useGetSongLyricsByIDQuery:lt,useGetPlaylistTracksByIDQuery:ce,useGetPlaylistByIDQuery:j,useGetArtistByIDQuery:it}=M,ot=({song:t,isPlaying:r,activeSong:s,i})=>{var g,f;const{data:a,isFetching:l,error:d}=ne(t==null?void 0:t.data.id),n=_(),c=()=>{n(A(!1))},m=()=>{n(le({song:t,data,i})),n(A(!0))};return l?e(D,{title:"Loading results"}):d?e(S,{}):o("div",{className:"flex flex-col w-[250px] p-4 bg-white/5 bg-opacity-80 backdrop-blur-sm animate-slideup rounded-lg curser-pointer",children:[o("div",{className:"relative w-full h-56 group",children:[e("div",{className:`absolute inset-0 justify-center items-center bg-black bg-opacity-50 group-hover:flex 
      ${(s==null?void 0:s.track)===a.tracks[0]?"flex bg-black bg-opacity-70":"hidden"}
      `,children:e(se,{isPlaying:r,activeSong:s,song:t,handlePause:c,handlePlay:m})}),e("img",{alt:"song_img",src:a.tracks[0].album.images[0].url})]}),o("div",{className:"mt-4 flex flex-col",children:[e("p",{className:"font-semibold text-lg text-white truncate",children:e(Q,{to:`/songs/${a==null?void 0:a.tracks[0].id}`,children:a.tracks[0].name})}),e("p",{className:"text-sm truncate text-gray-300 mt-1",children:e(Q,{to:a.tracks[0].artists[0].name?`/artists/${(g=a==null?void 0:a.tracks[0].artists[0])==null?void 0:g.id}`:"/top-artists",children:(f=a.tracks[0].artists[0])==null?void 0:f.name})})]})]})},nt=({artist:t})=>{const r=C();return console.log(t),o("div",{className:"flex flex-col w-[250px] p-4 bg-white/5 bg-opacity-80 backdrop-blur-sm animate-slideup rounded-lg cursor-pointer",onClick:()=>r(`/artists/${t==null?void 0:t.data.uri.replace("spotify:artist:","")}`),children:[e("img",{alt:"song_img",src:(t==null?void 0:t.data.visuals.avatarImage)===null?O:t==null?void 0:t.data.visuals.avatarImage.sources[0].url,className:"w-full h-56 rounded-lg"}),e("p",{className:"mt-4 font-semibold text-lg text-white truncate",children:t==null?void 0:t.data.profile.name})]})},ct=t=>{var s,i,a;const r=[t];return o("div",{className:"relative w-full flex flex-col",children:[e("div",{className:"w-full bg-gradient-to-1 from-transparent to-black sm:h-48 h-28"}),o("div",{className:"absolute inset-0 flex items-center",children:[e("img",{alt:"alt",src:(s=r[0])==null?void 0:s.SongData.tracks[0].album.images[0].url,className:"sm:w-48 w-28 sm:h-48 h-28 rounded-full\r object-cover border-2 shadow-xl shadow-black"}),o("div",{className:"ml-5",children:[e("p",{className:"font=bold sm:text-3xl text-xl text-white",children:r[0].SongData.tracks[0].name}),e(Q,{to:`/artists/${r[0].SongData.tracks[0].artists[0].id}`,children:e("p",{className:"text-base text-gray-400 mt-2",children:(i=r[0])==null?void 0:i.SongData.tracks[0].artists[0].name})}),o("p",{className:"text-base text-gray-400 mt-2",children:["Popularity: ",(a=r[0])==null?void 0:a.SongData.tracks[0].popularity]})]})]}),e("div",{className:"w-full sm:h-44 h-24"})]})},dt=t=>(console.log(t.artistData.data),o("div",{className:"relative w-full flex flex-col",children:[e("div",{className:"w-full bg-gradient-to-1 from-transparent to-black sm:h-48 h-28"}),o("div",{className:"absolute inset-0 flex items-center",children:[e("img",{alt:"alt",src:t.artistData.data.artist.visuals.avatarImage===null?O:t.artistData.data.artist.visuals.avatarImage.sources[0].url.replace("{w}","500").replace("{h}","500"),className:"sm:w-48 w-28 sm:h-48 h-28 rounded-full\r object-cover border-2 shadow-xl shadow-black"}),o("div",{className:"ml-5",children:[e("p",{className:"font=bold sm:text-3xl text-xl text-white",children:t.artistData.data.artist.profile.name}),o("p",{className:"text-base text-gray-200 mt-2",children:["Followers: ",t.artistData.data.artist.stats.followers]}),o("p",{className:"text-base text-gray-200 mt-2",children:["Monthly Listeners: ",t.artistData.data.artist.stats.monthlyListeners]})]})]}),e("div",{className:"w-full sm:h-44 h-24"})]})),ut={apiKey:"AIzaSyAbXpeboNpb9H-Y4QG1xef0MB_m4TN1xxY",authDomain:"chordclout-be762.firebaseapp.com",projectId:"chordclout-be762",storageBucket:"chordclout-be762.appspot.com",messagingSenderId:"140799186711",appId:"1:140799186711:web:de54dc0834569281acc952"},de=Ge(ut),N=Oe(de),$=Te(de),mt=new ze,ue=async()=>{try{const r=(await Ye(N,mt)).user,s=K(Z($,"users"),V("uid","==",r.uid));(await J(s)).docs.length===0&&await ee(Z($,"users"),{uid:r.uid,name:r.displayName,authProvider:"google",email:r.email})}catch(t){console.error(t),alert(t.message)}},W=async(t,r)=>{try{await Xe(N,t,r)}catch(s){return console.error(s.message),s.message}},U=async(t,r,s)=>{try{const a=(await We(N,r,s)).user;await ee(Z($,"users"),{uid:a.uid,name:t,authProvider:"local",email:r})}catch(i){return console.error(i),i.message}},ht=()=>{Ue(N)};const B=()=>{const[t,r,s]=P(N),[i,a]=u.exports.useState(!1);let l=u.exports.useRef();return u.exports.useEffect(()=>{let d=n=>{l.current.contains(n.target)||(a(!1),console.log(l.current))};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}}),e("div",{className:"text-center",children:o("div",{className:"menu-container",ref:l,children:[e("div",{className:"menu-trigger",onClick:()=>{a(!i)},children:e("img",{src:O})}),o("div",{className:`dropdown-menu ${i?"active":"inactive"}`,children:[o("h3",{children:[t==null?void 0:t.displayName,e("br",{}),e("span",{children:t==null?void 0:t.email})]}),e("ul",{children:e(pt,{text:"Logout"})})]})]})})};function pt(t){return e("li",{className:"dropdownItem",children:e("button",{onClick:()=>ht(),children:t.text})})}const ft=({isPlaying:t,repeat:r,setRepeat:s,shuffle:i,setShuffle:a,currentSongs:l,handlePlayPause:d,handlePrevSong:n,handleNextSong:c})=>o("div",{className:"flex items-center justify-around md:w-36 lg:w-52 2xl:w-80",children:[e(je,{size:20,color:r?"red":"white",onClick:()=>s(m=>!m),className:"hidden sm:block cursor-pointer"}),(l==null?void 0:l.length)&&e(Ae,{size:30,color:"#FFF",className:"cursor-pointer",onClick:n}),t?e(Qe,{size:45,color:"#FFF",onClick:d,className:"cursor-pointer"}):e(De,{size:45,color:"#FFF",onClick:d,className:"cursor-pointer"}),(l==null?void 0:l.length)&&e(Se,{size:30,color:"#FFF",className:"cursor-pointer",onClick:c}),e(Be,{size:20,color:i?"red":"white",onClick:()=>a(m=>!m),className:"hidden sm:block cursor-pointer"})]}),gt=({activeSong:t,isPlaying:r,volume:s,seekTime:i,onEnded:a,onTimeUpdate:l,onLoadedData:d,repeat:n})=>{const c=u.exports.useRef(null);return c.current&&(r?c.current.play():c.current.pause()),u.exports.useEffect(()=>{c.current.volume=s},[s]),u.exports.useEffect(()=>{c.current.currentTime=i},[i]),e("audio",{src:(t==null?void 0:t.track)===!0?t==null?void 0:t.preview_url:t==null?void 0:t.track.preview_url,ref:c,loop:n,onEnded:a,onTimeUpdate:l,onLoadedData:d})},xt=({value:t,min:r,max:s,onInput:i,setSeekTime:a,appTime:l})=>{const d=n=>`${Math.floor(n/60)}:${`0${Math.floor(n%60)}`.slice(-2)}`;return o("div",{className:"hidden sm:flex flex-row items-center",children:[e("button",{type:"button",onClick:()=>a(l-5),className:"hidden lg:mr-4 lg:block text-white",children:"-"}),e("p",{className:"text-white",children:t===0?"0:00":d(t)}),e("input",{type:"range",step:"any",value:t,min:r,max:s,onInput:i,className:"md:block w-24 md:w-56 2xl:w-96 h-1 mx-4 2xl:mx-6 rounded-lg"}),e("p",{className:"text-white",children:s===0?"0:00":d(s)}),e("button",{type:"button",onClick:()=>a(l+5),className:"hidden lg:ml-4 lg:block text-white",children:"+"})]})},yt=({isPlaying:t,isActive:r,activeSong:s})=>o("div",{className:"flex-1 flex items-center justify-start",children:[e("div",{className:`${t&&r?"animate-[spin_3s_linear_infinite]":""} hidden sm:block h-16 w-16 mr-4`,children:e("img",{src:(s==null?void 0:s.track)===!0?s.album.images[0].url:s.track.album.images[0].url,alt:"cover art",className:"rounded-full"})}),o("div",{className:"w-[50%]",children:[e("p",{className:"truncate text-white font-bold text-lg",children:(s==null?void 0:s.track)===!0?s==null?void 0:s.name:s!=null&&s.track.name?s==null?void 0:s.track.name:"No active Song"}),e("p",{className:"truncate text-gray-300",children:(s==null?void 0:s.track)===!0?s.artists[0].name:s!=null&&s.track.artists[0].name?s==null?void 0:s.track.artists[0].name:"No active Song"})]})]}),bt=({value:t,min:r,max:s,onChange:i,setVolume:a})=>o("div",{className:"hidden lg:flex flex-1 items-center justify-end",children:[t<=1&&t>.5&&e(Re,{size:25,color:"#FFF",onClick:()=>a(0)}),t<=.5&&t>0&&e(Me,{size:25,color:"#FFF",onClick:()=>a(0)}),t===0&&e(Ze,{size:25,color:"#FFF",onClick:()=>a(1)}),e("input",{type:"range",step:"any",value:t,min:r,max:s,onChange:i,className:"2xl:w-40 lg:w-32 md:w-32 h-1 ml-2"})]}),wt=()=>{const{activeSong:t,currentSongs:r,currentIndex:s,isActive:i,isPlaying:a}=R(w=>w.player),[l,d]=u.exports.useState(0),[n,c]=u.exports.useState(0),[m,g]=u.exports.useState(0),[f,y]=u.exports.useState(.3),[h,b]=u.exports.useState(!1),[v,p]=u.exports.useState(!1),x=_();u.exports.useEffect(()=>{r.length&&x(A(!0))},[s]);const E=()=>{!i||x(A(!a))},F=()=>{x(A(!1)),x(X(v?Math.floor(Math.random()*r.length):(s+1)%r.length))};return o("div",{className:"relative sm:px-12 px-8 w-full flex items-center justify-between",children:[e(yt,{isPlaying:a,isActive:i,activeSong:t}),o("div",{className:"flex-1 flex flex-col items-center justify-center",children:[e(ft,{isPlaying:a,isActive:i,repeat:h,setRepeat:b,shuffle:v,setShuffle:p,currentSongs:r,handlePlayPause:E,handlePrevSong:()=>{x(q(s===0?r.track.length-1:v?Math.floor(Math.random()*r.length):s-1))},handleNextSong:F}),e(xt,{value:m,min:"0",max:l,onInput:w=>c(w.target.value),setSeekTime:c,appTime:m}),e(gt,{activeSong:t,volume:f,isPlaying:a,seekTime:n,repeat:h,currentIndex:s,onEnded:F,onTimeUpdate:w=>g(w.target.currentTime),onLoadedData:w=>d(w.target.duration)})]}),e(bt,{value:f,min:"0",max:"1",onChange:w=>y(w.target.value),setVolume:y})]})},D=({title:t})=>o("div",{className:"w-full flex justify-center items-center flex-col",children:[e("img",{src:G,alt:"loader",className:"w-32 h-32 object-contain"}),e("h1",{className:"font-bold text-2xl text-white mt-2",children:t||"Loading..."})]}),S=()=>e("div",{className:"w-full flex justify-center items-center",children:e("h1",{className:"font-bold text-2xl text-white mt-2",children:"Something went wrong. Please try again."})}),Nt=()=>{var y;const t=_(),r=C(),[s,i,a]=P(N),{activeSong:l,isPlaying:d,genreListId:n}=R(h=>h.player),{data:c,isFetching:m,error:g}=ce(n||"37i9dQZF1EQoqCH7BwIYb7");if(u.exports.useEffect(()=>{if(!i&&!s)return r("/login")}),m)return e(D,{title:"Loading songs..."});if(g)return e(S,{});const f=(y=z.find(({value:h})=>h===n))==null?void 0:y.title;return o("div",{className:"flex flex-col",children:[e(B,{}),o("div",{className:"w-full flex justify-between items-center \r sm:flex-row flex-col mt-4 mb-10",children:[o("div",{className:"font-bold text-3xl\r text-white",children:["Discover ",f]}),e("select",{onChange:h=>t(rt(h.target.value)),value:n||"R&B",className:"absolute top-[30px] right-[150px] bg-black text-gray-300 p-2\r text-sm rounded-lg outline-none sm:mt-0 mt-5",children:z.map(h=>e("option",{value:h.value,children:h.title},h.value))})]}),e("div",{className:"flex flex-wrap \r sm:justify-start justify-center gap-8",children:c.items.map((h,b)=>e(ie,{song:h,isPlaying:d,activeSong:l,data:c.items,i:b},h.key))})]})},vt=()=>{const[t,r,s]=P(N),i=C();u.exports.useEffect(()=>{if(!r&&!t)return i("/login")});const{artistid:a}=H(),{data:l,isFetching:d,error:n}=it(a);return console.log(l),d?e(D,{title:"Loading artist..."}):n?e(S,{}):o("div",{className:"flex flex-col",children:[e(B,{}),e(dt,{artistData:l}),o("div",{className:"mb-10",children:[e("h2",{className:"text-white text-3xl\r font-bold ",children:"Biography"}),e("div",{className:"mt-5",children:l.data.artist.profile.biography.text?e("p",{className:"text-gray-400 text-base my-1",children:l.data.artist.profile.biography.text}):e("p",{className:"text-gray-400 text-base my-1",children:"Sorry, No biography found!"})})]})]})},kt=()=>{const[t,r,s]=P(N),i=C();u.exports.useEffect(()=>{if(!r&&!t)return i("/login")});const{songid:a}=H(),{data:l,isFetching:d,error:n}=ne(a),{data:c,isFetching:m,error:g}=lt(a);return d||m?e(D,{title:"Loading song details..."}):n||g?e(S,{}):(console.log(l==null?void 0:l.tracks[0].album.images[0].url),console.log(l),console.log(c.lyrics.lines),o("div",{className:" flex flex-col",children:[e(B,{}),e(ct,{SongData:l}),o("div",{className:"mb-10",children:[e("h2",{className:"text-white text-3xl\r font-bold ",children:"Lyrics:"}),e("div",{className:"mt-5",children:(c==null?void 0:c.lyrics.fullscreenAction)==="FULLSCREEN_LYRICS"?c==null?void 0:c.lyrics.lines.map((f,y)=>e("p",{className:"text-gray-400 text-base my-1",children:c==null?void 0:c.lyrics.lines[y].words},`lyrics-${f}-${y}`)):e("p",{className:"text-gray-400 text-base my-1",children:"Sorry, No lyrics found!"})})]})]}))},Ft=()=>{const[t,r,s]=P(N),i=C();u.exports.useEffect(()=>{if(!r&&!t)return i("/login")});const{data:a,isFetching:l,error:d}=j("37i9dQZF1EQnqst5TRi17F"),{data:n,isFetching:c,error:m}=j("37i9dQZF1EQncLwOalG3K7"),{data:g,isFetching:f,error:y}=j("37i9dQZF1EIeZKM1YFAtwx"),{data:h,isFetching:b,error:v}=j("37i9dQZF1EQoqCH7BwIYb7");if(l||c||f||b)return e(D,{title:"Loading songs..."});if(d||m||y||v)return e(S,{});const p=[n,a,g,h];return console.log(p),o("div",{className:"flex flex-col",children:[e(B,{}),e(re,{}),e("div",{className:"w-full flex justify-between items-center \r sm:flex-row flex-col mt-4 mb-10",children:e("div",{className:"font-bold text-3xl\r text-white",children:"Search for songs or artists"})}),e("div",{className:"flex flex-wrap \r sm:justify-start justify-center gap-8",children:p.map((x,E)=>e(oe,{playlist:x,data:p,i:E},x.key))})]})},Et=()=>{var g,f,y,h,b,v;const[t,r,s]=P(N),i=C();u.exports.useEffect(()=>{if(!r&&!t)return i("/login")});const{searchTerm:a}=H(),{data:l,isFetching:d,error:n}=at(a),{activeSong:c,isPlaying:m}=R(p=>p.player);return d?e(D,{title:"Loading results"}):n?e(S,{}):(console.log(l),o("div",{className:"flex flex-col",children:[e(B,{}),e(re,{}),e("h2",{className:"font-bold text-3xl text-white text-left mt-4 mb-10",children:((g=l==null?void 0:l.tracks)==null?void 0:g.items.length)>0?o("p",{children:["Showing song results for ",e("span",{className:"font-black",children:a})]}):o("p",{children:["No song results for ",e("span",{className:"font-black",children:a})]})}),e("div",{className:"flex flex-wrap sm:justify-start justify-center gap-8",children:((f=l==null?void 0:l.tracks)==null?void 0:f.items.length)>0?(y=l==null?void 0:l.tracks)==null?void 0:y.items.map((p,x)=>e(ot,{song:p,isPlaying:m,activeSong:c,data:l,i:x},p.key)):null}),e("h2",{className:"font-bold text-3xl text-white text-left mt-4 mb-10",children:((h=l==null?void 0:l.artists)==null?void 0:h.items.length)>0?o("p",{children:["Showing artist results for ",e("span",{className:"font-black",children:a})]}):o("p",{children:["No artist results for ",e("span",{className:"font-black",children:a})]})}),e("div",{className:"flex flex-wrap sm:justify-start justify-center gap-8",children:((b=l==null?void 0:l.artists)==null?void 0:b.items.length)>0?(v=l==null?void 0:l.artists)==null?void 0:v.items.map(p=>e(nt,{artist:p,data:l},p.key)):null})]}))},Pt=()=>{const[t,r,s]=P(N),[i,a]=u.exports.useState(""),l=C(),d=async()=>{try{const I=K(Z($,"users"),V("uid","==",t==null?void 0:t.uid)),T=(await J(I)).docs[0].data();a(T.name)}catch(I){console.error(I),alert("An error occured while fetching user data")}};u.exports.useEffect(()=>{if(!r){if(!t)return l("/login");d()}});const{data:n,isFetching:c,error:m}=j("37i9dQZF1DXcBWIGoYBM5M"),{data:g,isFetching:f,error:y}=j("37i9dQZF1DX2L0iB23Enbq"),{data:h,isFetching:b,error2:v}=j("37i9dQZF1DX4JAvHpjipBk"),{data:p,isFetching:x,error:E}=j("37i9dQZF1DWTwnEm1IYyoj");if(c||f||b||x)return e(D,{title:"Loading songs..."});if(m||y||v||E)return e(S,{});const F=[n,h,p,g];return console.log(F),o("div",{className:"flex flex-col",children:[e(B,{}),e("div",{className:"w-full flex justify-between items-center \r sm:flex-row flex-col mt-4 mb-10",children:o("div",{className:"font-bold text-3xl\r text-white",children:["Welcome, ",i]})}),e("div",{className:"flex flex-wrap \r sm:justify-start justify-center gap-8",children:F.map((I,w)=>e(oe,{playlist:I,data:F,i:w},I.key))})]})},Ct=()=>{const[t,r,s]=P(N),i=C();u.exports.useEffect(()=>{if(!r&&!t)return i("/login")});const{playlistid:a}=H();console.log(a);const{activeSong:l,isPlaying:d}=R(h=>h.player),{data:n,isFetching:c,error:m}=ce(a),{data:g,isFetching:f,error:y}=j(a);return c||f?e(D,{title:"Loading songs..."}):m||y?e(S,{}):(console.log(n),o("div",{className:"flex flex-col",children:[e(B,{}),e("div",{className:"w-full flex justify-between items-center \r sm:flex-row flex-col mt-4 mb-10",children:e("div",{className:"font-bold text-3xl\r text-white",children:g.name})}),e("div",{className:"flex flex-wrap \r sm:justify-start justify-center gap-8",children:n.items.map((h,b)=>e(ie,{song:h,isPlaying:d,activeSong:l,data:n.items,i:b},h.key))})]}))},It=()=>{const[t,r]=u.exports.useState(""),[s,i]=u.exports.useState(!1),[a,l]=u.exports.useState(""),[d,n]=u.exports.useState(""),[c,m]=u.exports.useState(!1),[g,f,y]=P(N),h=C();u.exports.useEffect(()=>{f||g&&h("/")},[g,f]);const b=p=>{r(p.target.value),/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(p.target.value)?(n(""),i(!0)):(console.log(p.target.value),n("Incorrect email or password"),i(!1))},v=(p,x)=>{p===""?m(!0):s?W(p,x).then(E=>{E==="Firebase: Error (auth/missing-password)."||E==="Firebase: Error (auth/wrong-password)."||E==="Firebase: Error (auth/user-not-found)."?(n("Incorrect email or password"),m(!0)):W(p,x)}):m(!0)};return o("div",{className:"h-screen w-screen flex items-center justify-center mx-[125px]",children:[e("img",{src:te,alt:"poster",className:"absolute inset-y-0 left-0 w-auto h-full"}),o("div",{className:"flex flex-col text-center bg-white object-right px-[350px] py-[500px]",children:[e("input",{type:"text",className:"bg-slate-300 border border-slate-700 p-2 text-lg mb-2 rounded-lg",value:t,onChange:p=>b(p),placeholder:"E-mail Address"}),e("input",{type:"password",className:"bg-slate-300 border border-slate-700 p-2 text-lg mb-2 rounded-lg",value:a,onChange:p=>l(p.target.value),placeholder:"Password"}),c&&e("p",{className:"error",children:d}),e("button",{className:"p-2 text-lg mb-2 text-white bg-black rounded-lg",onClick:()=>v(t,a),children:"Login"}),e("button",{className:"p-2 text-lg mb-2 text-white bg-blue-500 rounded-lg",onClick:ue,children:"Login with Google"}),o("div",{children:["Don't have an account? ",e(Q,{to:"/register",className:"text-black underline underline-offset-1",children:"Register"})," now."]})]})]})},Lt=()=>{const[t,r]=u.exports.useState(""),[s,i]=u.exports.useState(""),[a,l]=u.exports.useState(""),[d,n]=u.exports.useState(!1),[c,m]=u.exports.useState(""),[g,f]=u.exports.useState(!1),[y,h]=u.exports.useState(!1),[b,v]=u.exports.useState(""),[p,x]=u.exports.useState(""),[E,F]=u.exports.useState(!1),[I,w,T]=P(N),me=C(),he=()=>{b===""?(x("Please enter name"),F(!0),f(!1),n(!1)):!y||t===""?(F(!1),m("Email address is not valid"),f(!0),n(!1)):U(b,t,s).then(k=>{console.log(k),k==="Firebase: Error (auth/email-already-in-use)."?(m("Email already exist"),f(!0),F(!1),n(!1)):k==="Firebase: Error (auth/missing-password)."?(l("Password is missing"),f(!1),F(!1),n(!0)):k==="Firebase: Password should be at least 6 characters (auth/weak-password)."?(l("Password should be longer than 6 characters"),f(!1),F(!1),n(!0)):U(b,t,s)})};u.exports.useEffect(()=>{w||I&&me("/login",{replace:!0})},[I,w]);const pe=k=>{r(k.target.value),/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(k.target.value)?(m(""),h(!0)):(m("Email address is not valid"),h(!1))};return o("div",{className:"h-screen w-screen flex items-center justify-center mx-[125px]",children:[e("img",{src:te,alt:"poster",className:"absolute inset-y-0 left-0 w-auto h-full"}),o("div",{className:"flex flex-col text-center bg-white object-right px-[350px] py-[300px]",children:[e("input",{type:"text",className:"bg-slate-300 border border-slate-700 p-2 text-lg mb-2 rounded-lg",value:b,onChange:k=>v(k.target.value),placeholder:"Name"}),e("input",{type:"text",className:"bg-slate-300 border border-slate-700 p-2 text-lg mb-2 rounded-lg",value:t,onChange:k=>pe(k),placeholder:"E-mail Address"}),e("input",{type:"password",className:"bg-slate-300 border border-slate-700 p-2 text-lg mb-2 rounded-lg",value:s,onChange:k=>i(k.target.value),placeholder:"Password"}),E&&e("p",{className:"error",children:p}),g&&e("p",{className:"error",children:c}),d&&e("p",{className:"error",children:a}),e("button",{className:"p-2 text-lg mb-2 text-white bg-black rounded-lg",onClick:he,children:"Register"}),e("button",{className:"register__btn register__google",onClick:ue,children:"Register with Google"}),o("div",{children:["Already have an account? ",e(Q,{to:"/login",className:"text-black underline underline-offset-1",children:"Login"})," now."]})]})]})},jt=()=>{const{activeSong:t}=R(r=>r.player);return P(N),o("div",{className:"relative flex",children:[e(et,{}),e("div",{className:"flex-1 flex flex-col bg-gradient-to-br from-black to-[#a900b1]",children:e("div",{className:"px-6 h-[calc(100vh-0px)] overflow-y-scroll hide-scrollbar flex xl:flex-row flex-col-reverse",children:e("div",{className:"flex-1 h-fit pb-40",children:o(Ke,{children:[e(L,{path:"/login",element:e(It,{})}),e(L,{path:"/register",element:e(Lt,{})}),e(L,{path:"/",element:e(Pt,{})}),e(L,{path:"/discover",element:e(Nt,{})}),e(L,{path:"/artists/:artistid",element:e(vt,{})}),e(L,{path:"/songs/:songid",element:e(kt,{})}),e(L,{path:"/search/",element:e(Ft,{})}),e(L,{path:"/search/result/:searchTerm",element:e(Et,{})}),e(L,{path:"/playlist/:playlistid",element:e(Ct,{})})]})})})}),(t==null?void 0:t.track)&&e("div",{className:"absolute h-28 bottom-0 left-0 right-0 flex animate-slideup bg-gradient-to-br from-white/10 to-[#2a2a80] backdrop-blur-lg rounded-t-3xl z-10",children:e(wt,{})})]})},At=qe({reducer:{[M.reducerPath]:M.reducer,player:st},middleware:t=>t().concat(M.middleware)});ge.createRoot(document.getElementById("root")).render(e(fe.StrictMode,{children:e(we,{store:At,children:e(ye,{children:e(jt,{})})})}));
