import{r as u,R as oe}from"./react.b63b2fd9.js";import{c as ne}from"./react-dom.292950be.js";import{N as ce,L as C,B as de}from"./react-router-dom.713355e3.js";import{j as o,F as ue,c as e,u as Z,a as R,P as me}from"./react-redux.a0b70365.js";import{H as pe,a as he,b as fe,c as ge,R as xe,d as ye,F as be,e as we,f as Ne,B as ve,M as ke,g as Fe,h as Pe,i as Ce,j as Ie,k as je,l as Le,m as Ee}from"./react-icons.35c9551b.js";import{c as Qe,a as De,f as Be,b as Ae}from"./@reduxjs.acb39b55.js";import"./firebase.d5e81eb4.js";import{i as Re,g as Me,P as Se,G as He,s as Ze,R as z,_ as S,b as Y,d as X,p as W,a as $e,c as qe,e as _e}from"./@firebase.e47d84da.js";import{u as w}from"./react-firebase-hooks.09b3862d.js";import"./hoist-non-react-statics.debd85b3.js";import{a as N,d as $,e as Ge,f as k}from"./react-router.64ce88fe.js";import"./scheduler.be149d5c.js";import"./@remix-run.2f696efc.js";import"./use-sync-external-store.05dcb437.js";import"./immer.55049fc9.js";import"./redux.596c8223.js";import"./@babel.2ed91b85.js";import"./redux-thunk.8cfd44ab.js";import"./reselect.bd965e1c.js";import"./idb.13e98345.js";import"./react-is.c5d0308a.js";const Oe=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}};Oe();var _="/assets/logo.e73bde7a.png",U="/assets/poster.97a116cc.png",Te="/assets/profile.de0a28e5.png";const G=[{title:"R&B",value:"37i9dQZF1EQoqCH7BwIYb7"},{title:"Hip-Hop",value:"37i9dQZF1EQnqst5TRi17F"},{title:"Electronic",value:"37i9dQZF1EIeZKM1YFAtwx"},{title:"Pop",value:"37i9dQZF1EQncLwOalG3K7"},{title:"Alternative",value:"37i9dQZF1DX9GRpeH4CL0S"},{title:"Rock",value:"37i9dQZF1EQpj7X7UK8OOF"},{title:"Latin",value:"37i9dQZF1DXbLMw3ry7d7k"},{title:"Film",value:"37i9dQZF1DXb69UWhjrXsW"},{title:"Country",value:"37i9dQZF1DX1lVhptIYRda"},{title:"Worldwide",value:"37i9dQZEVXbMDoHDwVN2tF"},{title:"Reggae",value:"37i9dQZF1EQpjs4F0vUZ1x"},{title:"House",value:"37i9dQZF1DXd5DCuoVuFY3"},{title:"K-Pop",value:"37i9dQZF1DX9tPFwDMOaN1"}],ze=[{name:"Home",to:"/",icon:pe},{name:"Discover",to:"/discover",icon:he},{name:"Search",to:"search",icon:fe},{name:"Liked",to:"/liked",icon:ge}],O=()=>e("div",{className:"mt-10",children:ze.map(t=>o(ce,{to:t.to,className:"flex flex-row justify-start items-center my-8 text-sm font-medium text-gray-400 hover:text-cyan-400",onClick:()=>handleClick&&handleClick(),children:[e(t.icon,{className:"w-6 h-6 mr-2"}),t.name]},t.name))}),Ye=()=>{const[t,r]=u.exports.useState(!1);return o(ue,{children:[o("div",{className:"md:flex hidden flex-col w-[240px] py-10 px-4 bg-[#191624]",children:[e("img",{src:_,alt:"logo",className:"w-full h-20 object-contain"}),e(O,{})]}),e("div",{className:"absolute md:hidden block top-6 right-3",children:t?e(xe,{className:"w-6 h-6 text-white mr-2",onClick:()=>r(!1)}):e(ye,{className:"w-6 h-6 text-white mr-2",onClick:()=>r(!0)})}),o("div",{className:`absolute top-0 h-screen w-2/3 bg-gradient-to-tl from-white/10 to-[#483d8b] backdrop-blur-lg z-10 p-6 md:hidden smooth-transition ${t?"left-0":"-left-full"}`,children:[e("img",{src:_,alt:"logo",className:"w-full h-20 object-contain"}),e(O,{handleClick:()=>r(!1)})]})]})},Xe=()=>{const t=N(),[r,s]=u.exports.useState("");return o("form",{onSubmit:a=>{a.preventDefault(),t(`/search/result/${r}`)},autoComplete:"off",className:"p-2 text-gray-400 focus-within:text-gray-600",children:[e("label",{htmlFor:"search-field",className:"sr-only",children:"Search all songs"}),o("div",{className:"flex flex-row justify-start items-center",children:[e(be,{className:"w-5 h-5 ml-4"}),e("input",{name:"search-field",autoComplete:"off",id:"search-field",placeholder:"Search",type:"search",value:r,onChange:a=>s(a.target.value),className:"flex-1 bg-transparent border-none outline-none placeholder-gray-500 text-base text-white p-4"})]})]})},K=({isPlaying:t,activeSong:r,song:s,handlePause:i,handlePlay:a})=>t&&(r==null?void 0:r.track.name)===s.track.name?e(we,{size:35,className:"text-gray-300",onClick:i}):e(Ne,{size:35,className:"text-gray-300",onClick:a}),We={currentSongs:[],currentIndex:0,isActive:!1,isPlaying:!1,activeSong:{},genreListId:""},V=Qe({name:"player",initialState:We,reducers:{setActiveSong:(t,r)=>{var s,i,a,l,d,c,n;t.activeSong=r.payload.song,(a=(i=(s=r.payload)==null?void 0:s.data)==null?void 0:i.tracks)!=null&&a.hits?t.currentSongs=r.payload.data.tracks.hits:(d=(l=r.payload)==null?void 0:l.data)!=null&&d.properties?t.currentSongs=(n=(c=r.payload)==null?void 0:c.data)==null?void 0:n.tracks:t.currentSongs=r.payload.data,t.currentIndex=r.payload.i,t.isActive=!0},nextSong:(t,r)=>{var s,i;(s=t.currentSongs[r.payload])!=null&&s.track?t.activeSong=(i=t.currentSongs[r.payload])==null?void 0:i.track:t.activeSong=t.currentSongs[r.payload],t.currentIndex=r.payload,t.isActive=!0},prevSong:(t,r)=>{var s,i;(s=t.currentSongs[r.payload])!=null&&s.track?t.activeSong=(i=t.currentSongs[r.payload])==null?void 0:i.track:t.activeSong=t.currentSongs[r.payload],t.currentIndex=r.payload,t.isActive=!0},playPause:(t,r)=>{t.isPlaying=r.payload},selectGenreListId:(t,r)=>{t.genreListId=r.payload}}}),{setActiveSong:J,nextSong:T,prevSong:q,playPause:P,selectGenreListId:Ue}=V.actions;var Ke=V.reducer;const ee=({song:t,isPlaying:r,activeSong:s,i,data:a})=>{var n,p;const l=Z(),d=()=>{l(P(!1))},c=()=>{l(J({song:t,data:a,i})),l(P(!0))};return o("div",{className:"flex flex-col w-[250px] p-4 bg-white/5 bg-opacity-80 backdrop-blur-sm animate-slideup rounded-lg curser-pointer",children:[o("div",{className:"relative w-full h-56 group",children:[e("div",{className:`absolute inset-0 justify-center items-center bg-black bg-opacity-50 group-hover:flex 
      ${(s==null?void 0:s.track)===t.track?"flex bg-black bg-opacity-70":"hidden"}
      `,children:e(K,{isPlaying:r,activeSong:s,song:t,handlePause:d,handlePlay:c})}),e("img",{alt:"song_img",src:t.track.album.images[0].url})]}),o("div",{className:"mt-4 flex flex-col",children:[e("p",{className:"font-semibold text-lg text-white truncate",children:e(C,{to:`/songs/${t==null?void 0:t.track.id}`,children:t.track.name})}),e("p",{className:"text-sm truncate text-gray-300 mt-1",children:e(C,{to:t.track.artists[0].name?`/artists/${(n=t==null?void 0:t.track.artists[0])==null?void 0:n.id}`:"/top-artists",children:(p=t.track.artists[0])==null?void 0:p.name})})]})]})},te=({playlist:t})=>(console.log(t),o("div",{className:"flex flex-col w-[250px] p-4 bg-white/5 bg-opacity-80 backdrop-blur-sm animate-slideup rounded-lg curser-pointer",children:[o("div",{className:"relative w-full h-56 group",children:[e("div",{className:"absolute inset-0 justify-center items-center bg-black bg-opacity-50 group-hover:flex hidden"}),e("img",{alt:"playlist_img",src:t.images[0].url})]}),o("div",{className:"mt-4 flex flex-col",children:[e("p",{className:"font-semibold text-lg text-white truncate",children:e(C,{to:`/playlist/${t.uri.replace("spotify:playlist:","")}`,children:t.name})}),e("p",{className:"text-sm truncate text-gray-300 mt-1",children:"Chord Clout"})]})]})),M=De({reducerPath:"spotify23API",baseQuery:Be({baseUrl:"https://spotify23.p.rapidapi.com",prepareHeaders:t=>(t.set("X-RapidAPI-Key","3e495d322dmsh71f9e322caea807p107f44jsnf3993f84648f"),t)}),endpoints:t=>({getTodaysHits:t.query({query:()=>"/playlist_tracks/?id=37i9dQZF1DXcBWIGoYBM5M&offset=0&limit=100"}),getSongsBySearch:t.query({query:r=>`/search/?q=${r}&type=multi&limit=4`}),getSongsByID:t.query({query:r=>`/tracks/?id=${r}`}),getSongLyricsByID:t.query({query:r=>`/track_lyrics/?id=${r}`}),getPlaylistTracksByID:t.query({query:r=>`/playlist_tracks/?id=${r}`}),getPlaylistByID:t.query({query:r=>`/playlist/?id=${r}`}),getArtistByID:t.query({query:r=>`/artist_overview/?id=${r}`})})}),{useGetTodaysHitsQuery:Wt,useGetSongsBySearchQuery:Ve,useGetSongsByIDQuery:re,useGetSongLyricsByIDQuery:Je,useGetPlaylistTracksByIDQuery:se,useGetPlaylistByIDQuery:F,useGetArtistByIDQuery:et}=M,tt=({song:t,isPlaying:r,activeSong:s,i})=>{var g,h;const{data:a,isFetching:l,error:d}=re(t==null?void 0:t.data.id),c=Z(),n=()=>{c(P(!1))},p=()=>{c(J({song:t,data,i})),c(P(!0))};return l?e(I,{title:"Loading results"}):d?e(j,{}):(console.log(a.tracks),console.log(a.tracks[0].album),o("div",{className:"flex flex-col w-[250px] p-4 bg-white/5 bg-opacity-80 backdrop-blur-sm animate-slideup rounded-lg curser-pointer",children:[o("div",{className:"relative w-full h-56 group",children:[e("div",{className:`absolute inset-0 justify-center items-center bg-black bg-opacity-50 group-hover:flex 
      ${(s==null?void 0:s.track)===a.tracks[0]?"flex bg-black bg-opacity-70":"hidden"}
      `,children:e(K,{isPlaying:r,activeSong:s,song:t,handlePause:n,handlePlay:p})}),e("img",{alt:"song_img",src:a.tracks[0].album.images[0].url})]}),o("div",{className:"mt-4 flex flex-col",children:[e("p",{className:"font-semibold text-lg text-white truncate",children:e(C,{to:`/songs/${a==null?void 0:a.tracks[0].id}`,children:a.tracks[0].name})}),e("p",{className:"text-sm truncate text-gray-300 mt-1",children:e(C,{to:a.tracks[0].artists[0].name?`/artists/${(g=a==null?void 0:a.tracks[0].artists[0])==null?void 0:g.id}`:"/top-artists",children:(h=a.tracks[0].artists[0])==null?void 0:h.name})})]})]}))},rt=({artist:t})=>{const r=N();return console.log(t),o("div",{className:"flex flex-col w-[250px] p-4 bg-white/5 bg-opacity-80 backdrop-blur-sm animate-slideup rounded-lg cursor-pointer",onClick:()=>r(`/artists/${t==null?void 0:t.data.uri.replace("spotify:artist:","")}`),children:[e("img",{alt:"song_img",src:t==null?void 0:t.data.visuals.avatarImage.sources[0].url,className:"w-full h-56 rounded-lg"}),e("p",{className:"mt-4 font-semibold text-lg text-white truncate",children:t==null?void 0:t.data.profile.name})]})},st=t=>{var s,i,a;const r=[t];return o("div",{className:"relative w-full flex flex-col",children:[e("div",{className:"w-full bg-gradient-to-1 from-transparent to-black sm:h-48 h-28"}),o("div",{className:"absolute inset-0 flex items-center",children:[e("img",{alt:"alt",src:(s=r[0])==null?void 0:s.SongData.tracks[0].album.images[0].url,className:"sm:w-48 w-28 sm:h-48 h-28 rounded-full\r object-cover border-2 shadow-xl shadow-black"}),o("div",{className:"ml-5",children:[e("p",{className:"font=bold sm:text-3xl text-xl text-white",children:r[0].SongData.tracks[0].name}),e(C,{to:`/artists/${r[0].SongData.tracks[0].artists[0].id}`,children:e("p",{className:"text-base text-gray-400 mt-2",children:(i=r[0])==null?void 0:i.SongData.tracks[0].artists[0].name})}),o("p",{className:"text-base text-gray-400 mt-2",children:["Popularity: ",(a=r[0])==null?void 0:a.SongData.tracks[0].popularity]})]})]}),e("div",{className:"w-full sm:h-44 h-24"})]})},at=t=>(console.log(t.artistData.data),console.log(t.artistData.data.artist.profile.name),console.log(t.artistData.data.artist.profile.biography.text),console.log(t.artistData.data.artist.visuals.avatarImage.sources[0].url),o("div",{className:"relative w-full flex flex-col",children:[e("div",{className:"w-full bg-gradient-to-1 from-transparent to-black sm:h-48 h-28"}),o("div",{className:"absolute inset-0 flex items-center",children:[e("img",{alt:"alt",src:t.artistData.data.artist.visuals.avatarImage.sources[0].url.replace("{w}","500").replace("{h}","500"),className:"sm:w-48 w-28 sm:h-48 h-28 rounded-full\r object-cover border-2 shadow-xl shadow-black"}),o("div",{className:"ml-5",children:[e("p",{className:"font=bold sm:text-3xl text-xl text-white",children:t.artistData.data.artist.profile.name}),o("p",{className:"text-base text-gray-200 mt-2",children:["Followers: ",t.artistData.data.artist.stats.followers]}),o("p",{className:"text-base text-gray-200 mt-2",children:["Monthly Listeners: ",t.artistData.data.artist.stats.monthlyListeners]})]})]}),e("div",{className:"w-full sm:h-44 h-24"})]})),lt={apiKey:"AIzaSyAbXpeboNpb9H-Y4QG1xef0MB_m4TN1xxY",authDomain:"chordclout-be762.firebaseapp.com",projectId:"chordclout-be762",storageBucket:"chordclout-be762.appspot.com",messagingSenderId:"140799186711",appId:"1:140799186711:web:de54dc0834569281acc952"},ae=Re(lt),x=Me(ae),H=Se(ae),it=new He,le=async()=>{try{const r=(await Ze(x,it)).user,s=z(S(H,"users"),Y("uid","==",r.uid));(await X(s)).docs.length===0&&await W(S(H,"users"),{uid:r.uid,name:r.displayName,authProvider:"google",email:r.email})}catch(t){console.error(t),alert(t.message)}},ot=async(t,r)=>{try{await $e(x,t,r)}catch(s){console.error(s),alert(s.message)}},nt=async(t,r,s)=>{try{const a=(await qe(x,r,s)).user;await W(S(H,"users"),{uid:a.uid,name:t,authProvider:"local",email:r})}catch(i){console.error(i),alert(i.message)}},ct=()=>{_e(x)};const D=()=>{const[t,r,s]=w(x),[i,a]=u.exports.useState(!1);let l=u.exports.useRef();return u.exports.useEffect(()=>{let d=c=>{l.current.contains(c.target)||(a(!1),console.log(l.current))};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}}),e("div",{className:"text-center",children:o("div",{className:"menu-container",ref:l,children:[e("div",{className:"menu-trigger",onClick:()=>{a(!i)},children:e("img",{src:Te})}),o("div",{className:`dropdown-menu ${i?"active":"inactive"}`,children:[o("h3",{children:[t==null?void 0:t.displayName,e("br",{}),e("span",{children:t==null?void 0:t.email})]}),e("ul",{children:e(dt,{text:"Logout"})})]})]})})};function dt(t){return e("li",{className:"dropdownItem",children:e("button",{onClick:()=>ct(),children:t.text})})}const ut=({isPlaying:t,repeat:r,setRepeat:s,shuffle:i,setShuffle:a,currentSongs:l,handlePlayPause:d,handlePrevSong:c,handleNextSong:n})=>o("div",{className:"flex items-center justify-around md:w-36 lg:w-52 2xl:w-80",children:[e(ve,{size:20,color:r?"red":"white",onClick:()=>s(p=>!p),className:"hidden sm:block cursor-pointer"}),(l==null?void 0:l.length)&&e(ke,{size:30,color:"#FFF",className:"cursor-pointer",onClick:c}),t?e(Fe,{size:45,color:"#FFF",onClick:d,className:"cursor-pointer"}):e(Pe,{size:45,color:"#FFF",onClick:d,className:"cursor-pointer"}),(l==null?void 0:l.length)&&e(Ce,{size:30,color:"#FFF",className:"cursor-pointer",onClick:n}),e(Ie,{size:20,color:i?"red":"white",onClick:()=>a(p=>!p),className:"hidden sm:block cursor-pointer"})]}),mt=({activeSong:t,isPlaying:r,volume:s,seekTime:i,onEnded:a,onTimeUpdate:l,onLoadedData:d,repeat:c})=>{const n=u.exports.useRef(null);return n.current&&(r?n.current.play():n.current.pause()),u.exports.useEffect(()=>{n.current.volume=s},[s]),u.exports.useEffect(()=>{n.current.currentTime=i},[i]),e("audio",{src:(t==null?void 0:t.track)===!0?t==null?void 0:t.preview_url:t==null?void 0:t.track.preview_url,ref:n,loop:c,onEnded:a,onTimeUpdate:l,onLoadedData:d})},pt=({value:t,min:r,max:s,onInput:i,setSeekTime:a,appTime:l})=>{const d=c=>`${Math.floor(c/60)}:${`0${Math.floor(c%60)}`.slice(-2)}`;return o("div",{className:"hidden sm:flex flex-row items-center",children:[e("button",{type:"button",onClick:()=>a(l-5),className:"hidden lg:mr-4 lg:block text-white",children:"-"}),e("p",{className:"text-white",children:t===0?"0:00":d(t)}),e("input",{type:"range",step:"any",value:t,min:r,max:s,onInput:i,className:"md:block w-24 md:w-56 2xl:w-96 h-1 mx-4 2xl:mx-6 rounded-lg"}),e("p",{className:"text-white",children:s===0?"0:00":d(s)}),e("button",{type:"button",onClick:()=>a(l+5),className:"hidden lg:ml-4 lg:block text-white",children:"+"})]})},ht=({isPlaying:t,isActive:r,activeSong:s})=>o("div",{className:"flex-1 flex items-center justify-start",children:[e("div",{className:`${t&&r?"animate-[spin_3s_linear_infinite]":""} hidden sm:block h-16 w-16 mr-4`,children:e("img",{src:(s==null?void 0:s.track)===!0?s.album.images[0].url:s.track.album.images[0].url,alt:"cover art",className:"rounded-full"})}),o("div",{className:"w-[50%]",children:[e("p",{className:"truncate text-white font-bold text-lg",children:(s==null?void 0:s.track)===!0?s==null?void 0:s.name:s!=null&&s.track.name?s==null?void 0:s.track.name:"No active Song"}),e("p",{className:"truncate text-gray-300",children:(s==null?void 0:s.track)===!0?s.artists[0].name:s!=null&&s.track.artists[0].name?s==null?void 0:s.track.artists[0].name:"No active Song"})]})]}),ft=({value:t,min:r,max:s,onChange:i,setVolume:a})=>o("div",{className:"hidden lg:flex flex-1 items-center justify-end",children:[t<=1&&t>.5&&e(je,{size:25,color:"#FFF",onClick:()=>a(0)}),t<=.5&&t>0&&e(Le,{size:25,color:"#FFF",onClick:()=>a(0)}),t===0&&e(Ee,{size:25,color:"#FFF",onClick:()=>a(1)}),e("input",{type:"range",step:"any",value:t,min:r,max:s,onChange:i,className:"2xl:w-40 lg:w-32 md:w-32 h-1 ml-2"})]}),gt=()=>{const{activeSong:t,currentSongs:r,currentIndex:s,isActive:i,isPlaying:a}=R(b=>b.player),[l,d]=u.exports.useState(0),[c,n]=u.exports.useState(0),[p,g]=u.exports.useState(0),[h,f]=u.exports.useState(.3),[m,v]=u.exports.useState(!1),[L,E]=u.exports.useState(!1),y=Z();u.exports.useEffect(()=>{r.length&&y(P(!0))},[s]);const A=()=>{!i||y(P(!a))},B=()=>{y(P(!1)),y(T(L?Math.floor(Math.random()*r.length):(s+1)%r.length))};return o("div",{className:"relative sm:px-12 px-8 w-full flex items-center justify-between",children:[e(ht,{isPlaying:a,isActive:i,activeSong:t}),o("div",{className:"flex-1 flex flex-col items-center justify-center",children:[e(ut,{isPlaying:a,isActive:i,repeat:m,setRepeat:v,shuffle:L,setShuffle:E,currentSongs:r,handlePlayPause:A,handlePrevSong:()=>{y(q(s===0?r.track.length-1:L?Math.floor(Math.random()*r.length):s-1))},handleNextSong:B}),e(pt,{value:p,min:"0",max:l,onInput:b=>n(b.target.value),setSeekTime:n,appTime:p}),e(mt,{activeSong:t,volume:h,isPlaying:a,seekTime:c,repeat:m,currentIndex:s,onEnded:B,onTimeUpdate:b=>g(b.target.currentTime),onLoadedData:b=>d(b.target.duration)})]}),e(ft,{value:h,min:"0",max:"1",onChange:b=>f(b.target.value),setVolume:f})]})},I=({title:t})=>o("div",{className:"w-full flex justify-center items-center flex-col",children:[e("img",{src:_,alt:"loader",className:"w-32 h-32 object-contain"}),e("h1",{className:"font-bold text-2xl text-white mt-2",children:t||"Loading..."})]}),j=()=>e("div",{className:"w-full flex justify-center items-center",children:e("h1",{className:"font-bold text-2xl text-white mt-2",children:"Something went wrong. Please try again."})}),xt=()=>{var f;const t=Z(),r=N(),[s,i,a]=w(x),{activeSong:l,isPlaying:d,genreListId:c}=R(m=>m.player),{data:n,isFetching:p,error:g}=se(c||"37i9dQZF1EQoqCH7BwIYb7");if(u.exports.useEffect(()=>{if(!i&&!s)return r("/login")}),p)return e(I,{title:"Loading songs..."});if(g)return e(j,{});const h=(f=G.find(({value:m})=>m===c))==null?void 0:f.title;return o("div",{className:"flex flex-col",children:[e(D,{}),o("div",{className:"w-full flex justify-between items-center \r sm:flex-row flex-col mt-4 mb-10",children:[o("div",{className:"font-bold text-3xl\r text-white",children:["Discover ",h]}),e("select",{onChange:m=>t(Ue(m.target.value)),value:c||"R&B",className:"absolute top-[30px] right-[150px] bg-black text-gray-300 p-2\r text-sm rounded-lg outline-none sm:mt-0 mt-5",children:G.map(m=>e("option",{value:m.value,children:m.title},m.value))})]}),e("div",{className:"flex flex-wrap \r sm:justify-start justify-center gap-8",children:n.items.map((m,v)=>e(ee,{song:m,isPlaying:d,activeSong:l,data:n.items,i:v},m.key))})]})},yt=()=>{const[t,r,s]=w(x),i=N();u.exports.useEffect(()=>{if(!r&&!t)return i("/login")});const{artistid:a}=$(),{data:l,isFetching:d,error:c}=et(a);return console.log(l),d?e(I,{title:"Loading artist..."}):c?e(j,{}):o("div",{className:"flex flex-col",children:[e(D,{}),e(at,{artistData:l}),o("div",{className:"mb-10",children:[e("h2",{className:"text-white text-3xl\r font-bold ",children:"Biography"}),e("div",{className:"mt-5",children:l.data.artist.profile.biography.text?e("p",{className:"text-gray-400 text-base my-1",children:l.data.artist.profile.biography.text}):e("p",{className:"text-gray-400 text-base my-1",children:"Sorry, No biography found!"})})]})]})},bt=()=>{const[t,r,s]=w(x),i=N();u.exports.useEffect(()=>{if(!r&&!t)return i("/login")});const{songid:a}=$(),{data:l,isFetching:d,error:c}=re(a),{data:n,isFetching:p,error:g}=Je(a);return d||p?e(I,{title:"Loading song details..."}):c||g?e(j,{}):(console.log(l==null?void 0:l.tracks[0].album.images[0].url),console.log(l),console.log(n.lyrics.lines),o("div",{className:" flex flex-col",children:[e(D,{}),e(st,{SongData:l}),o("div",{className:"mb-10",children:[e("h2",{className:"text-white text-3xl\r font-bold ",children:"Lyrics:"}),e("div",{className:"mt-5",children:(n==null?void 0:n.lyrics.fullscreenAction)==="FULLSCREEN_LYRICS"?n==null?void 0:n.lyrics.lines.map((h,f)=>e("p",{className:"text-gray-400 text-base my-1",children:n==null?void 0:n.lyrics.lines[f].words},`lyrics-${h}-${f}`)):e("p",{className:"text-gray-400 text-base my-1",children:"Sorry, No lyrics found!"})})]})]}))},wt=()=>{const[t,r,s]=w(x),i=N();u.exports.useEffect(()=>{if(!r&&!t)return i("/login")});const{data:a,isFetching:l,error:d}=F("37i9dQZF1EQnqst5TRi17F"),{data:c,isFetching:n,error:p}=F("37i9dQZF1EQncLwOalG3K7"),{data:g,isFetching:h,error:f}=F("37i9dQZF1EIeZKM1YFAtwx"),{data:m,isFetching:v,error:L}=F("37i9dQZF1EQoqCH7BwIYb7");if(l||n||h||v)return e(I,{title:"Loading songs..."});if(d||p||f||L)return e(j,{});const E=[c,a,g,m];return console.log(E),o("div",{className:"flex flex-col",children:[e(D,{}),e(Xe,{}),e("div",{className:"w-full flex justify-between items-center \r sm:flex-row flex-col mt-4 mb-10",children:e("div",{className:"font-bold text-3xl\r text-white",children:"Search for songs or artists"})}),e("div",{className:"flex flex-wrap \r sm:justify-start justify-center gap-8",children:E.map((y,A)=>e(te,{playlist:y,data:E,i:A},y.key))})]})},Nt=()=>{var g,h;const[t,r,s]=w(x),i=N();u.exports.useEffect(()=>{if(!r&&!t)return i("/login")});const{searchTerm:a}=$(),{data:l,isFetching:d,error:c}=Ve(a),{activeSong:n,isPlaying:p}=R(f=>f.player);return d?e(I,{title:"Loading results"}):c?e(j,{}):(console.log(l),o("div",{className:"flex flex-col",children:[e(D,{}),o("h2",{className:"font-bold text-3xl text-white text-left mt-4 mb-10",children:["Showing song results for ",e("span",{className:"font-black",children:a})]}),e("div",{className:"flex flex-wrap sm:justify-start justify-center gap-8",children:(g=l==null?void 0:l.tracks)==null?void 0:g.items.map((f,m)=>e(tt,{song:f,isPlaying:p,activeSong:n,data:l,i:m},f.key))}),o("h2",{className:"font-bold text-3xl text-white text-left mt-4 mb-10",children:["Showing artist results for ",e("span",{className:"font-black",children:a})]}),e("div",{className:"flex flex-wrap sm:justify-start justify-center gap-8",children:(h=l==null?void 0:l.artists)==null?void 0:h.items.map(f=>e(rt,{artist:f,data:l},f.key))})]}))},vt=()=>{const[t,r,s]=w(x),[i,a]=u.exports.useState(""),l=N(),d=async()=>{try{const Q=z(S(H,"users"),Y("uid","==",t==null?void 0:t.uid)),ie=(await X(Q)).docs[0].data();a(ie.name)}catch(Q){console.error(Q),alert("An error occured while fetching user data")}};u.exports.useEffect(()=>{if(!r){if(!t)return l("/login");d()}});const{data:c,isFetching:n,error:p}=F("37i9dQZF1DXcBWIGoYBM5M"),{data:g,isFetching:h,error:f}=F("37i9dQZF1DX2L0iB23Enbq"),{data:m,isFetching:v,error2:L}=F("37i9dQZF1DX4JAvHpjipBk"),{data:E,isFetching:y,error:A}=F("37i9dQZF1DWTwnEm1IYyoj");if(n||h||v||y)return e(I,{title:"Loading songs..."});if(p||f||L||A)return e(j,{});const B=[c,m,E,g];return console.log(B),o("div",{className:"flex flex-col",children:[e(D,{}),e("div",{className:"w-full flex justify-between items-center \r sm:flex-row flex-col mt-4 mb-10",children:o("div",{className:"font-bold text-3xl\r text-white",children:["Welcome, ",i]})}),e("div",{className:"flex flex-wrap \r sm:justify-start justify-center gap-8",children:B.map((Q,b)=>e(te,{playlist:Q,data:B,i:b},Q.key))})]})},kt=()=>{const[t,r,s]=w(x),i=N();u.exports.useEffect(()=>{if(!r&&!t)return i("/login")});const{playlistid:a}=$();console.log(a);const{activeSong:l,isPlaying:d}=R(m=>m.player),{data:c,isFetching:n,error:p}=se(a),{data:g,isFetching:h,error:f}=F(a);return n||h?e(I,{title:"Loading songs..."}):p||f?e(j,{}):(console.log(c),o("div",{className:"flex flex-col",children:[e(D,{}),e("div",{className:"w-full flex justify-between items-center \r sm:flex-row flex-col mt-4 mb-10",children:e("div",{className:"font-bold text-3xl\r text-white",children:g.name})}),e("div",{className:"flex flex-wrap \r sm:justify-start justify-center gap-8",children:c.items.map((m,v)=>e(ee,{song:m,isPlaying:d,activeSong:l,data:c.items,i:v},m.key))})]}))},Ft=()=>{const[t,r]=u.exports.useState(""),[s,i]=u.exports.useState(""),[a,l,d]=w(x),c=N();return u.exports.useEffect(()=>{l||a&&c("/")},[a,l]),o("div",{className:"h-screen w-screen flex items-center justify-center mx-[125px]",children:[e("img",{src:U,alt:"poster",className:"absolute inset-y-0 left-0 w-auto h-full"}),o("div",{className:"flex flex-col text-center bg-white object-right px-[350px] py-[300px]",children:[e("input",{type:"text",className:"bg-slate-300 border border-slate-700 p-2 text-lg mb-2 rounded-lg",value:t,onChange:n=>r(n.target.value),placeholder:"E-mail Address"}),e("input",{type:"password",className:"bg-slate-300 border border-slate-700 p-2 text-lg mb-2 rounded-lg",value:s,onChange:n=>i(n.target.value),placeholder:"Password"}),e("button",{className:"p-2 text-lg mb-2 text-white bg-black rounded-lg",onClick:()=>ot(t,s),children:"Login"}),e("button",{className:"p-2 text-lg mb-2 text-white bg-blue-500 rounded-lg",onClick:le,children:"Login with Google"}),o("div",{children:["Don't have an account? ",e(C,{to:"/register",className:"text-black underline underline-offset-1",children:"Register"})," now."]})]})]})},Pt=()=>{const[t,r]=u.exports.useState(""),[s,i]=u.exports.useState(""),[a,l]=u.exports.useState(""),[d,c,n]=w(x),p=N(),g=()=>{a||alert("Please enter name"),nt(a,t,s)};return u.exports.useEffect(()=>{c||d&&p("/login",{replace:!0})},[d,c]),o("div",{className:"h-screen w-screen flex items-center justify-center mx-[125px]",children:[e("img",{src:U,alt:"poster",className:"absolute inset-y-0 left-0 w-auto h-full"}),o("div",{className:"flex flex-col text-center bg-white object-right px-[350px] py-[300px]",children:[e("input",{type:"text",className:"bg-slate-300 border border-slate-700 p-2 text-lg mb-2 rounded-lg",value:a,onChange:h=>l(h.target.value),placeholder:"Name"}),e("input",{type:"text",className:"bg-slate-300 border border-slate-700 p-2 text-lg mb-2 rounded-lg",value:t,onChange:h=>r(h.target.value),placeholder:"E-mail Address"}),e("input",{type:"password",className:"bg-slate-300 border border-slate-700 p-2 text-lg mb-2 rounded-lg",value:s,onChange:h=>i(h.target.value),placeholder:"Password"}),e("button",{className:"p-2 text-lg mb-2 text-white bg-black rounded-lg",onClick:g,children:"Register"}),e("button",{className:"register__btn register__google",onClick:le,children:"Register with Google"}),o("div",{children:["Already have an account? ",e(C,{to:"/login",className:"text-black underline underline-offset-1",children:"Login"})," now."]})]})]})},Ct=()=>{const{activeSong:t}=R(r=>r.player);return w(x),o("div",{className:"relative flex",children:[e(Ye,{}),e("div",{className:"flex-1 flex flex-col bg-gradient-to-br from-black to-[#a900b1]",children:e("div",{className:"px-6 h-[calc(100vh-0px)] overflow-y-scroll hide-scrollbar flex xl:flex-row flex-col-reverse",children:e("div",{className:"flex-1 h-fit pb-40",children:o(Ge,{children:[e(k,{path:"/login",element:e(Ft,{})}),e(k,{path:"/register",element:e(Pt,{})}),e(k,{path:"/",element:e(vt,{})}),e(k,{path:"/discover",element:e(xt,{})}),e(k,{path:"/artists/:artistid",element:e(yt,{})}),e(k,{path:"/songs/:songid",element:e(bt,{})}),e(k,{path:"/search/",element:e(wt,{})}),e(k,{path:"/search/result/:searchTerm",element:e(Nt,{})}),e(k,{path:"/playlist/:playlistid",element:e(kt,{})})]})})})}),(t==null?void 0:t.track)&&e("div",{className:"absolute h-28 bottom-0 left-0 right-0 flex animate-slideup bg-gradient-to-br from-white/10 to-[#2a2a80] backdrop-blur-lg rounded-t-3xl z-10",children:e(gt,{})})]})},It=Ae({reducer:{[M.reducerPath]:M.reducer,player:Ke},middleware:t=>t().concat(M.middleware)});ne.createRoot(document.getElementById("root")).render(e(oe.StrictMode,{children:e(me,{store:It,children:e(de,{children:e(Ct,{})})})}));
